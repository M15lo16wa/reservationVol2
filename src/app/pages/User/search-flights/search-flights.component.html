<div class="app-container">
  <header class="mat-elevation-z4 header-container">
    <h1>Réservation de Vols1</h1>
  </header>
</div>

<div class="promo-section">
  <h1 class="pub">Profitez des réductions !</h1>
  <p class="attraction">
    Réservez votre vol dès maintenant et bénéficiez de réductions
    exceptionnelles.
  </p>
</div>

<div class="container">
  <form [formGroup]="searchForm" class="search-form mat-elevation-z4">

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Départ</mat-label>
      <input matInput formControlName="departure" placeholder="Ville de départ">
      <mat-error *ngIf="searchForm.get('departure')?.invalid && searchForm.get('departure')?.touched">
        La ville de départ est obligatoire.
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Destination</mat-label>
      <input matInput formControlName="destination"
        placeholder="Ville de destination">
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Date de départ</mat-label>
      <input matInput [matDatepicker]="departurePicker"
        formControlName="departureDate">
      <mat-datepicker-toggle matSuffix
        [for]="departurePicker"></mat-datepicker-toggle>
      <mat-datepicker #departurePicker></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Passagers</mat-label>
      <input matInput type="number" formControlName="passengers" min="1">
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Classe</mat-label>
      <mat-select formControlName="class">
        <mat-option value="economy">Économique</mat-option>
        <mat-option value="business">Business</mat-option>
        <mat-option value="first">Première classe</mat-option>
      </mat-select>
    </mat-form-field>
    <button mat-raised-button color="primary" (click)="onSearch()">
      Rechercher
    </button>
  </form>
</div>

<section class="planning">
  <h2 id="titre-planning">Planning des vols</h2>
  <div class="calendar">
    <table class="flight-planning-table">
      <thead>
        <tr>
          <th>Vol</th>
          <th>Départ</th>
          <th>Heure de depart</th>
          <th>Destination</th>
          <th>Heure de arrivee</th>
          <th>Date d'arrivée</th>
          <th>Prix</th>
          <th>Status</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let flight of flights" class="clickable-row">
          <td>{{flight.numeroVol}}</td>
          <td>{{flight.Destination.villeDepart}}</td>
          <td>{{flight.Date.heureDepart}}</td>
          <td>{{flight.Destination.villeDestination}}</td>
          <td>{{flight.Date.heureArrivee}}</td>
          <td>{{flight.Date.date|date:'dd/MM/yyyy'}}</td>
          <td>{{flight.prix}}$</td>
          <td>{{flight.statut}}</td>
          <td>
            <button mat-raised-button color="primary" >Réserver</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</section>
<app-footer></app-footer>
